
<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html>
    <head>
        <% include header %>
        <style>
#container_sunburt {
			width: 600px;
			height: 600px;
			margin: 0;
			padding: 0;
		}
        </style>
    </head>
    <body class="hold-transition skin-blue sidebar-mini">
        <div class="wrapper">
            <% include navigation %>
            <% include sidebar %>


    <div class="content-wrapper" id="app">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>
            Talento humano BG - IBM Watson 
            <small>Personality insights</small>
          </h1>
          <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Level</a></li>
            <li class="active">Here</li>
          </ol>
        </section>
    
        <!-- Main content -->
        <section class="content container-fluid">
    
          <!--------------------------
            | Your Page Content Here |
            -------------------------->
             <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Test Personality
      
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">Forms</a></li>
        <li class="active">General Elements</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <!-- left column -->
        <div class="col-md-10">
          <!-- general form elements -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">IBM watson</h3>
            </div>
            <!-- /.box-header -->
            <!-- form start -->
            <form role="form">
              <div class="box-body">
                <div class="form-group">
                  <p> Escriba en el siguiente cuadro de texto una descripción suya.</p> 
                  <p> Debe contener palabras acerca de experiencias cotidianas, pensamientos, hobbies, pasatiempos.
                  </p>
                <p> Se considera escribir un mínimo de 200 palabras</p>
                <div class="rows">
                  <div class="col-md-4">
                    <div class="box-body">
                      <div class="form-group">
                        <label for="descripcion">Codigo Empleado</label>
                        <input type="text" class="form-control" v-model="bodyFormData.code_employee"/>
                      </div>
                    </div>
                    <!-- /.box-body -->
                  </div>
                  <div class="col-md-8">
                    <div class="box-body">
                      <div class="form-group">
                        <label for="descripcion">Nombres</label>
                        <input type="text" class="form-control" v-model="bodyFormData.name_employee"/>
                      </div>
                    </div>
                  </div>
                </div>
                  <label for="descripcion">Escriba su respuesta</label>
                  <textarea type="text" class="form-control" v-model="bodyFormData.dataPersonality" rows="15" cols="90" id="descripcion">
                    </textarea>
                </div>
                
                </div>
              <!-- /.box-body -->

              <div class="box-footer">
                <button type="submit" class="btn btn-primary" v-on:click="enviardatos">Enviar</button>
              </div>
            </form>
          </div>
          <!-- /.box -->
        <!--/.col (right) -->
      </div>
    </div>
      <!-- /.row -->
    </section>
    <!-- /.content -->

    {{ info }}
  </div>
        <section class="content">
  <div class="row">
    <!-- left column -->
    <div class="col-md-10">
  <!-- <div id="container_sunburt"></div> -->
</div>
</div>
</section>

        
         
    
        </section>
        <!-- /.content -->
      </div>

        <% include footer %>
  <!-- Control Sidebar -->

  <!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
  immediately after the control sidebar -->

    </div>
    <% include javascript %>
 
<script>
  anychart.onDocumentReady(
    
  function () {

// create data
var data = [
{name:     "Personality", value: 67, 
children: [
        {name:   "Machines", value: 28, children: [
          {name: "Integrated Circuits", value: 22},
          {name: "Blank Audio Media", value: 25},
          {name: "Computers", value: 11}
        ]},
         {name:   "Chemical Products", value: 47, children: [
          {name: "Essential Oils", value: 39},
          {name: "Beauty Products", value: 43}
        ]},

        {name:   "Carismatico", value: 46, children: [
          {name: "Cars", value: 28},
          {name: "Vehicle Parts", value: 64}
        ]}
      ]},
      {name:     "necesidades", value: 80,
    children:[
    {name:   "Machines", value: 24, children: [
          {name: "Integrated Circuits", value: 12},
          {name: "Integrated Circuits", value: 54},
          {name: "Integrated Circuits", value: 87},
          {name: "Blank Audio Media", value: 25}
        ]},
        
    ]},
    {name:     "Valores", value: 120,
    children:[
    {name:   "Integridad", value: 22, children: [
          {name: "Integrated Circuits", value: 34},
          {name: "Integrated Circuits", value: 32},
          {name: "Blank Audio Media", value: 25},
          {name: "Computers", value: 11}
        ]},
        {name:   "honestidad", value: 22, children: [
          {name: "paciencia", value: 12},
          {name: "integridad", value: 34},
          {name: "responsabilidad", value: 32},
          {name: "Blank Audio Media", value: 25}
          
        ]}
        ]}
];

// create a chart and set the data
var chart = anychart.sunburst(data, "as-tree");

 // set the calculation mode
 chart.calculationMode("parent-dependent");

// set the chart title
chart.title().useHtml(true);
chart.title("Test de personalidad IBM Watson<br><br>");

// set the container id
chart.container("container_sunburt");

// initiate drawing the chart
chart.draw();
});
</script>
    <script>
      
              var app = new Vue({
          el: '#app',
  
          data: {
            message: 'Hello Vue!',
            info: null,
            bodyFormData: {
              dataPersonality: null,
            code_employee: null,
            name_employee: null
            }
            
          },

    mounted () {

    // axios
    //   .get('https://api.coindesk.com/v1/bpi/currentprice.json')
    //   .then(response => (this.info = response));
      
  
  },
  methods: {
    enviardatos: function (event) {

  // fetch()

// const url = 'http://localhost:3001/api/personality';
// const options = {
//   method: 'POST',
//   headers: {
//     'Accept': 'application/json',
//     'Content-Type': 'application/json;charset=UTF-8'
//   },
//   body: JSON.stringify(
//     {'bodyFormData': this.bodyFormData}
//   )
// };

// fetch(url, options)
//   .then(response => {
//     console.log(response.status);
//   });
      axios.post('http://localhost:3001/api/personality',
      {'bodyFormData': this.bodyFormData}, 
      {headers: {'Accept': 'application/json',
                  'Content-Type': 'application/json;charset=UTF-8',
      "Access-Control-Allow-Origin": "*"}})
      //axios.post('http://localhost:3000/api/personality',formData)
    //data: this.bodyFormData
    // ,headers: {'Content-Type': 'multipart/form-data'
   //}
    //})
    .then(response_data=> {
        //handle success
        
        console.log("response");
        console.log(response_data);
        this.info=response_data;
    })
    .catch(function (response) {
        //handle error
        console.log("errores");
        console.log(response);
    })
    
   
    }
  }
        });
    </script>
</body>
</html>

